<?php
$img = get_field('img');
$title_group = get_field('title');
$subtitle = $title_group['subtitle'] ?? '';
$title = $title_group['title'] ?? '';

$class_name = 'b-title-fu';
if (!empty($block['className'])) {
    $class_name .= ' ' . $block['className'];
}
if (!empty($block['align'])) {
    $class_name .= ' align' . $block['align'];
}
$anchor = '';
if (!empty($block['anchor'])) {
    $anchor = 'id="' . esc_attr($block['anchor']) . '"';
}
?>

<div class="<?php echo esc_attr($class_name); ?>" <?php echo $anchor; ?>>
    <div class="b-title-fu__wrapper">
        <div class="b-title-fu__content">
            <?php if ($subtitle) : ?>
                <em class="b-title-fu__subtitle"><?php echo esc_html($subtitle); ?></em>
            <?php endif; ?>

            <?php if ($title) : ?>
                <h2 class="b-title-fu__title"><?php echo esc_html($title); ?></h2>
            <?php endif; ?>
        </div>
        <?php if ($img) : ?>
            <?php
            $img_url = wp_get_attachment_image_url($img, 'full');
            $img_alt = get_post_meta($img, '_wp_attachment_image_alt', true) ?: '';
            ?>
            <div class="b-title-fu__image">
                <img src="<?php echo esc_url($img_url); ?>" alt="<?php echo esc_attr($img_alt); ?>">
            </div>
            <div class="b-title-fu__svgs">
                <svg width="58" height="53" viewBox="0 0 58 53" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_370_4801)">
                        <path
                            d="M52.2828 29.8762C55.2803 17.6442 42.977 10.1715 33.0464 7.4413C23.9883 4.94715 9.15395 4.97063 7.43885 17.1795C6.60926 23.1032 10.8983 26.6177 15.1726 29.8818C17.668 31.789 20.2975 33.5991 23.1867 34.8688C24.12 35.2842 25.0757 35.6394 26.0451 35.9311C25.747 36.9177 25.1624 37.6999 24.2922 38.2486C22.9824 39.5845 21.2459 40.5658 19.7852 41.7279C19.7133 41.7894 19.6759 41.8637 19.6675 41.9389C18.9553 42.4581 19.3314 43.8718 20.3907 43.6579C27.5978 42.2208 35.117 41.2622 42.151 39.1042C46.8618 37.6605 51.0474 34.9143 52.286 29.8676L52.2828 29.8762ZM47.2611 34.5557C43.9166 37.438 39.1841 38.0702 35.0035 38.8781C30.6092 39.7339 26.218 40.5811 21.8236 41.437C24.2116 40.1001 26.2509 38.2514 28.1585 36.2559C28.4779 35.9239 28.4933 35.3024 27.9757 35.1395C20.2065 32.605 4.38776 23.3065 10.8216 13.4294C16.6541 4.4851 30.3869 7.87381 38.3996 11.2827C46.5382 14.7481 56.6653 26.4683 47.2643 34.547L47.2611 34.5557Z"
                            fill="#fff" />
                        <path
                            d="M21.512 18.0688C20.687 17.2037 19.1649 17.6081 18.5246 18.4872C18.0096 19.1875 18.1615 20.361 19.0032 21.0756C19.7349 21.6905 20.7974 21.811 21.5545 21.1712C22.4617 20.3913 22.3057 18.9125 21.5174 18.0806L21.512 18.0688Z"
                            fill="#fff" />
                        <path
                            d="M31.1123 21.6365C30.2874 20.7714 28.7653 21.1758 28.125 22.0549C27.61 22.7552 27.7618 23.9287 28.6035 24.6433C29.3353 25.2582 30.3978 25.3786 31.1549 24.7389C32.062 23.959 31.9061 22.4802 31.1178 21.6483L31.1123 21.6365Z"
                            fill="#fff" />
                        <path
                            d="M40.7124 25.2042C39.8875 24.3391 38.3654 24.7435 37.7251 25.6227C37.2101 26.323 37.3619 27.4964 38.2036 28.211C38.9354 28.8259 39.9979 28.9464 40.755 28.3067C41.6621 27.5267 41.5062 26.0479 40.7179 25.216L40.7124 25.2042Z"
                            fill="#fff" />
                    </g>
                    <defs>
                        <clipPath id="clip0_370_4801">
                            <rect width="46.8621" height="38.6691" fill="white"
                                transform="translate(13.4705) rotate(20.3865)" />
                        </clipPath>
                    </defs>
                </svg>
                <svg width="21" height="23" viewBox="0 0 21 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_370_4799)">
                        <path
                            d="M18.3875 17.318C15.8835 21.6707 10.8939 22.4436 6.48561 20.3352C0.710878 17.5777 0.506846 10.6406 3.76518 5.73765C6.43615 1.7312 13.5031 -0.30294 17.2251 3.50566C22.4805 8.89088 13.1939 13.5403 12.248 8.22932C12.2418 8.17986 12.2171 8.14276 12.1985 8.09948C11.8956 5.12556 8.83507 5.83658 7.18427 7.52448C6.28776 8.43953 5.52109 9.71937 5.65093 11.0487C5.81169 12.7118 7.23373 14.0659 8.91545 13.6145C9.0391 13.5836 9.11948 13.5156 9.18749 13.4414C10.4426 12.7675 11.3453 11.6608 11.8399 10.3624C13.3856 12.6624 16.7491 12.8726 18.9749 10.4984C22.4249 6.81964 18.7461 1.58281 14.7396 0.432813C2.3926 -3.11611 -6.1953 15.9269 5.65711 21.7511C9.89851 23.8347 18.4493 23.7976 19.4324 17.757C19.5313 17.1511 18.7337 16.7121 18.3875 17.318ZM8.48265 12.4954C7.23373 12.7551 6.57217 11.2651 6.79475 10.1954C6.96787 9.36077 7.51814 8.60029 8.11787 8.0191C8.66195 7.49357 9.39771 6.94948 10.1767 6.85674C10.9372 6.75781 11.3515 7.22771 11.5926 7.83362C11.3391 7.89545 11.1042 8.0933 11.0856 8.39007C10.9805 10.1398 10.0222 11.6793 8.48265 12.4954Z"
                            fill="#fff" />
                    </g>
                    <defs>
                        <clipPath id="clip0_370_4799">
                            <rect width="20.3476" height="23" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                <svg width="44" height="47" viewBox="0 0 44 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_872_964)">
                        <path
                            d="M33.3155 36.2488C32.4484 35.2528 31.0152 34.4667 29.763 35.0064C27.6093 34.1819 25.1289 36.0703 24.3832 38.2424C23.3373 41.2681 25.3037 44.2468 28.3767 44.8512C31.441 45.4536 34.153 43.3236 34.5067 40.2569C34.6664 38.8165 34.2869 37.3522 33.3243 36.2508L33.3155 36.2488ZM29.0243 42.8226C24.3257 42.3385 26.1449 36.0297 29.1186 36.0292C29.1636 36.1136 29.237 36.1953 29.3535 36.2501C31.0132 37.015 32.6211 37.6848 32.4492 39.8519C32.3016 41.6368 30.8536 43.0174 29.031 42.8334L29.0243 42.8226Z"
                            fill="#fff" />
                        <path
                            d="M26.7223 28.1112C28.2011 27.9475 29.8136 27.9626 31.2591 28.299C32.7483 28.6456 33.8014 29.6757 35.2556 30.0142C35.7725 30.1345 36.2791 29.6244 36.1047 29.1036C34.751 25.1593 28.1127 25.4704 24.8953 26.3193C20.6744 27.4332 17.4281 30.7871 17.626 35.2935C17.6517 35.9367 18.7166 36.083 18.7907 35.4076C19.2394 31.2179 22.6806 28.5742 26.7203 28.12L26.7223 28.1112Z"
                            fill="#fff" />
                        <path
                            d="M24.0575 18.4135C26.6689 17.8669 29.4598 17.8977 32.0223 18.6326C34.3348 19.2909 35.9748 20.8546 38.1906 21.6105C38.5747 21.746 38.9578 21.2903 38.8297 20.9281C36.7611 15.2936 27.5119 15.5143 22.8228 16.8147C16.4136 18.6014 10.4687 23.7098 11.0351 30.8785C11.0786 31.4058 11.9406 31.551 12.0118 30.9673C12.9026 24.3225 17.5082 19.7704 24.0488 18.4114L24.0575 18.4135Z"
                            fill="#fff" />
                        <path
                            d="M42.5465 11.3855C40.88 7.79321 35.6435 6.16813 32.0221 5.38067C27.5731 4.41908 22.9216 4.68476 18.6337 6.24482C11.5765 8.83184 2.61704 17.0526 3.74082 25.3576C3.77806 25.6341 4.12439 25.7332 4.27519 25.482C6.32842 22.0166 7.28784 18.3706 9.9897 15.2131C12.6551 12.0934 16.1153 9.68505 20.0378 8.46475C23.9104 7.26054 28.1422 7.21116 32.0701 8.18998C35.6145 9.07032 38.3663 11.6501 41.7956 12.4298C42.4351 12.5786 42.7863 11.9031 42.5465 11.3855Z"
                            fill="#fff" />
                    </g>
                    <defs>
                        <clipPath id="clip0_872_964">
                            <rect width="35.5188" height="39.2784" fill="white"
                                transform="translate(8.90381) rotate(13.1019)" />
                        </clipPath>
                    </defs>
                </svg>
            </div>
        <?php endif; ?>
    </div>
</div>